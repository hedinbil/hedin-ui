::deep.hui-input-table-grid {
    display: flex;
    
    > * {
        min-height: 70px;
    }
    &.hui-input-table-grid-icons {
        position: relative;
        display: block;
        .hui-frame-item-icons {
            position: absolute;
            top: 12px;
            right: 12px;
            min-height: 16px;
            display: flex;
            gap: 4px;
            > * {
              flex:1;
              height: 16px;
              width: 16px;
            }
        }
    }

    .mud-input-control {
        margin-top: 0 !important;
        margin-bottom: 0 !important;
        justify-content: center;

        $border-width: 1px;
        $disabled-opacity: 0.6;
        $disabled-color: var(--mud-palette-text-primary);

        /* Handle placeholder shown state */
        :has( input:placeholder-shown, textarea:placeholder-shown ) {
            background-color: var(--mud-palette-gray-darker);
        }
        &.mud-input-control-boolean-input {
            .mud-input-control-input-container {
                flex-grow: 1;
                justify-content: flex-end;
            }
            .mud-input-control-input-container:has(.mud-radio-group) {
                justify-content: center;
            }
        }

        .mud-input-outlined {
            background-color: var(--mud-palette-gray-dark);
            border-radius: 0;

            &:hover {
                background-color: var(--mud-palette-gray-default);
            }
            &.mud-input-error {
                box-shadow: inset 0 0 0 1px var(--mud-palette-error);
            }
        }
        
        .mud-input-outlined-border {
            border-radius: 0;
            border: $border-width none;

            &:not(:focus-within):not(:hover) {
                border: none;
            }

            &:focus-within {
                border: $border-width solid var(--mud-palette-primary);
            }

            &:hover:not(.mud-disabled):not(:focus-within) {
                border-width: $border-width;
            }
        }

        .mud-input {
            > div.mud-input-root-outlined.mud-input-root-margin-dense + button[aria-label='Clear'] {
                transform: translate(-30px, 0);
            }
            > input.mud-input-root-outlined.mud-input-root-margin-dense,
            > div.mud-input-slot.mud-input-root-outlined.mud-input-root-adorned-end {
                padding: 12px;
                margin: 12px 0 0;
                height: 34px;
                line-height: 46px;
                padding-inline-start: 12px !important;
            }
            .mud-input-clear-button {
                margin-inline-end: unset !important;
                margin-top: 20px;
            }
            .mud-input-numeric-spin {
                justify-content: flex-end;
                margin-right: 2px;
            }
            &.mud-input-outlined.mud-input-adorned-end {
                padding-right: 8px;
                padding-inline-end: 8px;
                padding-inline-start: unset;
            }
        }

        .mud-input-adornment {
            align-items: start;

            > button {
                margin-top: -16px;
            }
        }

        .mud-input-label-outlined {
            color: var(--mud-palette-text-primary) !important;
            padding: 0 4px !important;
            background: transparent !important;

            &.mud-input-label-margin-dense {
                transform: translate(9px, 12px) scale(0.75);
            }
        }

        .mud-shrink ~ label.mud-input-label.mud-input-label-inputcontrol.mud-input-label-outlined,
        .mud-input:focus-within ~ label.mud-input-label.mud-input-label-inputcontrol.mud-input-label-outlined {
            transform: translate(9px, 12px) scale(0.75);
        }

        .mud-input-outlined.mud-disabled,
        .mud-input-label-outlined.mud-disabled {
            color: $disabled-color !important;
            opacity: $disabled-opacity;
        }
    }
    .mud-input-control-helper-container {
        position: absolute;
        bottom: 0;
        left: 4px;
    }
    .mud-input-control-boolean-input .mud-radio-group {
        flex-direction: column;
        align-items: start;
        .mud-radio {
            margin-left: 6px;
            .mud-typography-body1 {
                font-size: 0.875rem;
                line-height: 1rem;
            }
            > span {
                padding: 2px;
            }
        }
    }
}

/* Primary-edit-mode styles */
::deep.hui-input-table-grid.primary-edit-mode {
    // Input background and text color
    .mud-input {
        background-color: var(--mud-palette-primary) !important;
        color: var(--mud-palette-primary-text) !important;

        &:hover {
            background-color: var(--mud-palette-primary-hover) !important;
            border-color: var(--mud-palette-primary-dark) !important;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.2); /* Subtle hover shadow */
        }
    }
    // Label text color
    .mud-input-label-outlined {
        color: var(--mud-palette-primary-text) !important;
    }
    // Icon colors (e.g., calendar icon)
    .mud-icon-root.mud-svg-icon {
        fill: var(--mud-palette-primary-text) !important;
    }
    // Outlined input border hover
    .mud-input-outlined-border {
        border-color: var(--mud-palette-primary);

        &:hover {
            border-color: var(--mud-palette-primary-dark) !important;
        }
    }
    // Placeholder/invalid states with hover
    .mud-input-control :has( input:placeholder-shown, textarea:placeholder-shown, input:invalid, textarea:invalid ) {
        color: var(--mud-palette-primary-text) !important;

        &:hover {
            background-color: var(--mud-palette-primary-darken) !important;
        }
    }
    
}

/* Additional MudBlazor input styles - scoped to frame items only */
.hui-frame-item ::deep .mud-input-number-control.mud-input-showspin .mud-input-adornment-end {
    margin-inline-end: 30px;
}

.hui-frame-item ::deep .mud-input.mud-input-error {
    box-shadow: inset 0px -2px 0px 0px var(--mud-palette-error) !important;
}

/* Responsive width classes for frame items */
.hui-frame-item-width-25 {
    grid-column: span 1;
}

.hui-frame-item-width-50 {
    grid-column: span 1;
    
    @container panel-container (min-width: 700px) {
        grid-column: span 1;
    }
    
    @container panel-container (min-width: 900px) {
        grid-column: span 2;
    }
    
    @container panel-container (min-width: 1100px) {
        grid-column: span 2;
    }
}

.hui-frame-item-width-75 {
    grid-column: span 1;
    
    @container panel-container (min-width: 700px) {
        grid-column: span 2;
    }
    
    @container panel-container (min-width: 900px) {
        grid-column: span 2;
    }
    
    @container panel-container (min-width: 1100px) {
        grid-column: span 3;
    }
}

.hui-frame-item-width-100 {
    grid-column: span 1;
    
    @container panel-container (min-width: 700px) {
        grid-column: span 2;
    }
    
    @container panel-container (min-width: 900px) {
        grid-column: span 3;
    }
    
    @container panel-container (min-width: 1100px) {
        grid-column: span 4;
    }
}

