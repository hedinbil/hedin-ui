@layout StartLayout
@attribute [Route("/")]
@inject SeoService SeoService

<div>

    <div class="my-container">
        <div class="hero-section image">
            <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                <MudGrid Class="justify-space-between align-center">
                    <!-- Text -->
                    <MudItem xs="12" md="4">
                        <MudText Typo="Typo.h1" Class="mb-2 hero-font">
                            Build Blazor Apps in
                            <span class="hero-text">Minutes</span>
                        </MudText>
                        <MudText Typo="Typo.subtitle1" Class="mb-4">
                            Hedin UI gives you a polished suite of
                            MudBlazor-based components, themes, and patterns
                            so you can ship UIs faster.
                        </MudText>
                        <div class="d-flex flex-wrap gap-3">
                            <MudButton Href="@PageRoute.GettingStarted"
                                       Variant="Variant.Filled"
                                       Size="Size.Large">
                                🚀 Get Started
                            </MudButton>
                            <MudButton Href="@PageRoute.Components"
                                       Variant="Variant.Outlined"
                                       Size="Size.Large">
                                📦 Components
                            </MudButton>
                            <MudButton Href="https://hedinit.com/"
                                       Target="_blank"
                                       Variant="Variant.Outlined"
                                       Size="Size.Large"
                                       Style="min-height:37.75px">
                                <MudImage Src="hedin-it_light.svg"
                                          Height="13"
                                          Style="color:white; fill:white;" />
                            </MudButton>
                        </div>
                    </MudItem>
                    <!-- Illustration -->
                    <MudItem xs="12" md="8" Class="text-center">
                        <Hedin.UI.Demo.Pages.UsageExamples.DemoPage />
                    </MudItem>
                </MudGrid>
            </MudContainer>
        </div>

        <!-- ABOUT (this is the slanted one) -->
        <div class="about-section text">
            <MudContainer MaxWidth="MaxWidth.Medium">
                <MudText Typo="Typo.h4" Class="mb-2">About Hedin UI</MudText>
                <MudText Typo="Typo.body1" Class="mb-4">
                    Hedin UI is an open source extension of MudBlazor, originally developed
                    by Hedin IT to power our internal Blazor applications. Now available to
                    the broader community, it provides enterprise-grade components, flexible
                    theming, and established UI patterns that help developers build better
                    applications faster. We welcome contributions and feedback from developers 
                    worldwide as we continue to enhance and expand this toolkit.
                </MudText>
                <MudPaper Elevation="1" Class="pa-3" Style="max-width: 400px;">
                    <MudText Typo="Typo.subtitle2" Class="mb-2">Current version: <strong>@MyLibVersion</strong></MudText>
                    dotnet add package Hedin.UI --version @MyLibVersion
                    <MudLink Typo="Typo.caption" Href="@PageRoute.GettingStarted" Class="mt-2">Installation guide</MudLink>
                </MudPaper>
            </MudContainer>
        </div>
    </div>

    <!-- Maps -->
    <div>
        <MudContainer MaxWidth="MaxWidth.False" Gutters="false">
            <HUIMaps Height="600px" Width="100%" AutoFit="true" DarkMode="true" Points="@([
                new HUIMaps.HUIMapPoint
                {
                    Lat=57.64720189259557,
                    Lng=11.986384664991496,
                    Id="123",
                    Icon = "_content/Hedin.UI/img/maps/parked_info_dark.svg",
                    IconSize = 22,
                }]
)">
            </HUIMaps>
        </MudContainer>
    </div>

    <div class="features-section">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h2" Class="mb-6 text-center">Key Features</MudText>
            <MudGrid Spacing="4">
                @foreach (var f in features)
                {
                    <MudItem xs="12" sm="6" md="3">
                        <MudCard Hover="true" Elevation="1">
                            <MudCardContent Class="text-center">
                                <MudIcon Icon="@f.Icon" Size="Size.Large" Color="Color.Primary" Class="mb-2" />
                                <MudText Typo="Typo.h6">@f.Title</MudText>
                                <MudText Typo="Typo.body2" Color="Color.Secondary">@f.Description</MudText>
                            </MudCardContent>
                            <MudCardActions>
                                <MudButton Href="@f.Link" Variant="Variant.Text" Size="Size.Small">@(f.readMore ? "Read more" : "View demo")</MudButton>
                            </MudCardActions>
                        </MudCard>
                    </MudItem>
                }
            </MudGrid>
        </MudContainer>
    </div>

    <div class="stats-section">
        <MudContainer MaxWidth="MaxWidth.Large">
            <MudText Typo="Typo.h2">Community</MudText>
            <MudGrid Justify="Justify.Center" Spacing="3">
                @foreach (var stat in externalSources)
                {
                    <MudItem xs="4" sm="3" md="2" Class="text-center">
                        <MudIcon Icon="@stat.Icon"
                                 Size="Size.Large"
                                 Color="Color.Primary" />
                        <MudText Typo="Typo.h5" Class="mt-1">@stat.Title</MudText>
                   @*      <MudText Typo="Typo.caption" Color="Color.Secondary">
                            @stat.Body
                        </MudText> *@
                        <MudLink Typo="Typo.caption" Href="@stat.Url" Target="_blank">@stat.UrlName</MudLink>

                    </MudItem>
                }
            </MudGrid>
        </MudContainer>
    </div>

    @* Footer with Cookie Settings link for GDPR compliance *@
    <div class="py-4" style="border-top: 1px solid var(--mud-palette-divider);">
        <MudContainer MaxWidth="MaxWidth.ExtraExtraLarge">
            <MudStack Row Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
                <MudText Typo="Typo.caption" Class="text-muted">
                    Hedin UI
                </MudText>
                <MudLink Href="/privacy" Target="_blank" Underline="Underline.Always" Class="text-muted">
                    Privacy Policy
                </MudLink>
            </MudStack>
        </MudContainer>
    </div>
</div>


@code {
    // public record Stat(string Label, string Value, string Icon);
    public record ExternalSource(string Title, string Icon, string Body, string UrlName, string Url);
    private string MyLibVersion = typeof(Hedin.UI.HUIAppBar).Assembly.GetName().Version?.ToString() ?? "1.0.0";

    protected override void OnInitialized()
    {
        SeoService.SetMetadata(
            title: "Hedin UI - Build Blazor Apps in Minutes",
            description: "Hedin UI gives you a polished suite of MudBlazor-based components, themes, and patterns so you can ship UIs faster. Open source Blazor component library.",
            keywords: "Blazor, MudBlazor, UI Components, C#, .NET, Web Development, Hedin UI, Open Source, Component Library, Web Framework",
            image: "/HedinUI.svg"
        );
    }

  //   private Stat[] stats = new[]
  //   {
  //   new Stat("Downloads",    "15.9 M",     Icons.Material.Filled.CloudDownload),
  //   new Stat("Stars",        "9.1 k",      Icons.Material.Filled.StarBorder),
  //   new Stat("Contributors", "446",        Icons.Material.Filled.Group),
  //   new Stat("Discord",      "5.1 k",      Icons.Custom.Brands.Discord)
  // };

    private ExternalSource[] externalSources = new[]
    {
        new ExternalSource("MudBlazor", Icons.Custom.Brands.MudBlazor, "Hedin.UI is an extionson of MudBlazor", "MudBlazor", "https://mudblazor.com/"),
        new ExternalSource("LinkedIn", Icons.Custom.Brands.LinkedIn, "Hedin IT", "LinkedIn", "https://www.linkedin.com/company/hedin-it"),
        new ExternalSource("Hedin IT", "Our main site", "", "Hedin IT", "https://hedinit.com/"),
    };


    record Feature(string Title, string Description, string Icon, string Link, bool readMore = false);
    private Feature[] features = new[]
    {
    new Feature("Data Grid",                        "Fast, virtualized tables with sorting & filtering",    Icons.Material.Filled.TableChart,   PageRoute.DataGrid),
    new Feature("Page guidelines",                  "A clear pattern to follow when developing new pages",  Icons.Material.Filled.FormatPaint,          PageRoute.Page),
    new Feature("Albot",                            "AI bot helping you with Hedin UI",                     Icons.Material.Filled.SmartToy,     PageRoute.AIChatBot),
    new Feature("Theming and guidelines",           "Global light/dark theming, custom palettes",           Icons.Material.Filled.Palette,      PageRoute.Guidelines, true),
    new Feature("MCP Integration",                  "Connect Hedin UI to Cursor via Model Context Protocol", Icons.Material.Filled.IntegrationInstructions, PageRoute.MCP, true),
    new Feature("Why Open Source",                  "Learn about our decision to open source Hedin.UI",      Icons.Material.Filled.Share,              PageRoute.WhyOpenSource, true)
  };
}
